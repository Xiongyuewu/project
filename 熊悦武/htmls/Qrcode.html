<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="icon" href="../layui/images/img/zou.ico">
		<title>邹智敏的个人二维码生成</title>
		<link rel="stylesheet" href="../layui/css/layui.css" />
	</head>
	<body style="background: #ededed;">
		<div class="layui-header" style="background: #393d49;">
	        <div class="layui-logo">
	        	<a href="../index.html">
	                <img src="../layui/images/img/log.png" width="350" height="40px" style="margin-top: 10px;"/>
	            </a>
	        </div>
	    </div>
		<div class="layui-container" style="margin:100px auto;">  
		  <div class="layui-row">
		    <div class="layui-col-md9" style="height: 500px;">
		    	<div style="width: 98%;height: 96%;">
				      <textarea name="desc" placeholder="请输入文字内容......" class="layui-textarea layui-anim layui-anim-up" style="height: 400px;resize: none;"></textarea>
				      <button class="layui-btn layui-btn-warm layui-anim layui-anim-scale" style="display:block;margin: 10px auto;" onclick="scewm()">生成二维码</button>
		    	</div>
		    </div>
		    <div class="layui-col-md3" style="height:500px;">
				  <div class="layui-row">
				    <div class="layui-col-md6" style="width:100%;height:300px;">
			    		<img src="../layui/images/img/qrcode.png" width="270" height="280" alt="您生成的二维码" style="display:block;margin:0 auto;"/>
				    </div>
				    <div class="layui-col-md6" style="width:100%;height:80px;">
				    	<blockquote class="layui-elem-quote">
					    	您可以在生成二维码之前或之后上传您本公司的 log，图片的格式只支持 jpg；
					    	图片大小为  60KB；
						</blockquote> 
				     	<button type="button" class="layui-btn layui-btn-danger layui-anim layui-anim-scale" id="uploadimg" style="display:block;margin: 0px auto;"><i class="layui-icon"></i>上传 LOGO</button>
				    </div>
				  </div>
		    </div>
		  </div>
		</div>
	</body>
<script type="text/javascript" src="../layui/jquery-1.12.0.min.js" ></script>
<script src="../layui/layui.js" charset="utf-8"></script>
<script>
var layer;
function scewm(){
	var text = $(".layui-col-md9").find("textarea").val();
	if(!isEmpty(text)){
		//自定页
		layer.open({
		  type: 1,
		  title:"提示",
		  skin: 'layui-layer-molv', //样式类名
		  closeBtn: 0, //不显示关闭按钮
		  anim: 2,
		  shadeClose: true, //开启遮罩关闭
		  content: "<div style='padding:50px;'>"+text+"</div>"
		});
	}else{
		layer.msg("数据不能为空");
	}
	
};

/**
 * 判断非空
 * @descript : 开始封装弹出层
 * @author : 邹智敏
 * @param val
 * @returns {Boolean}
 */
function isEmpty(val) {
	val = $.trim(val);
	if (val == null)
		return true;
	if (val == undefined || val == 'undefined')
		return true;
	if (val == "")
		return true;
	if (val.length == 0)
		return true;
	if (!/[^(^\s*)|(\s*$)]/.test(val))
		return true;
	return false;
}
	
layui.use(['upload','layer'], function(){
	
	layer = layui.layer;
  var upload = layui.upload;
  
  //执行实例
  var uploadInst = upload.render({
    elem: '#uploadimg' //绑定元素
    ,size:100
    ,accept:"jpg|jpeg|png"
    ,url: '/upload/' //上传接口
    ,done: function(res){
      //上传完毕回调
    }
    ,error: function(){
      //请求异常回调
    }
  });
});
</script>
</html>
